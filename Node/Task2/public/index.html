<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h2>Welcme to Task - 2</h2>
    <input type="text" name="uname" id="uname">
    <input type="button" value="Search Usaer Details" onclick="getUserDetail()">
    <div class="UserDetailBox" id="UserDetailBox">

    </div>



    <script>
        function getUserDetail() {
            let uname = document.getElementById("uname").value;
            const url = "http://localhost:3000/userdetails?name=" + uname;
            fetch(url)
                .then(response => response.json())
                .then(data => {
                    UserDetailBox = document.getElementById("UserDetailBox");
                    if (data.status == "ok") {
                        UserDetailBox.innerHTML = "<table style='width:300px'><tr>" +
                            "<td>Full Name</td>" +
                            "<td>" +
                            data.userDetails.fullName +
                            "</td>" +
                            "</tr>" +
                            "<tr>" +
                            "<td>Address</td>" +
                            "<td>" +
                            data.userDetails.address +
                            "</td>" +
                            "</tr>" +
                            "<tr>" +
                            "<td>Email</td>" +
                            "<td>" +
                            data.userDetails.email +
                            "</td>" +
                            "</tr></table>";
                    } else {
                        UserDetailBox.innerHTML = "<div style='width:300px;color: red;background-color: pink;'>" + data.message + "</div>";
                    }



                });
        }
    </script>
</body>

</html>